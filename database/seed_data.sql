-- ============================================================================
-- HR Management System - Sample/Test Data
-- ============================================================================
-- Run this script AFTER running setup.sql
-- This inserts sample data for testing
-- ============================================================================

-- ============================================================================
-- 1. CLEAR EXISTING DATA (Optional - uncomment if needed for a fresh seed)
-- ============================================================================

-- TRUNCATE TABLE attendance CASCADE;
-- TRUNCATE TABLE employees CASCADE;
-- TRUNCATE TABLE hr_users CASCADE;

-- ============================================================================
-- 2. INSERT HR USERS
-- ============================================================================

INSERT INTO hr_users (email, password_hash, name)
VALUES 
  (
    'admin@example.com',
    '$2b$10$KIXcw/9XDODjW8f6jHReLujx8c.mY3c9DCvCJ/9T.0eNBPwR0u4t6',
    'Admin User'
  ),
  (
    'hr@example.com',
    '$2b$10$KIXcw/9XDODjW8f6jHReLujx8c.mY3c9DCvCJ/9T.0eNBPwR0u4t6',
    'HR Manager'
  )
ON CONFLICT (email) DO NOTHING;

-- ============================================================================
-- 3. INSERT EMPLOYEES
-- ============================================================================

INSERT INTO employees 
  (name, age, designation, hiring_date, date_of_birth, salary, email)
VALUES
  -- Developer Team
  ('Rahim Uddin', 28, 'Senior Developer', '2022-06-15', '1997-10-20', 75000.00, 'rahim.uddin@company.com'),
  ('Fatima Ali', 26, 'Junior Developer', '2023-01-10', '1999-03-15', 50000.00, 'fatima.ali@company.com'),
  ('Ahmed Hassan', 30, 'Full Stack Developer', '2021-02-14', '1995-07-05', 85000.00, 'ahmed.hassan@company.com'),
  
  -- Management Team
  ('Karim Hasan', 32, 'Project Manager', '2021-03-01', '1993-08-25', 80000.00, 'karim.hasan@company.com'),
  ('Aisha Khan', 29, 'HR Manager', '2021-09-20', '1996-12-10', 65000.00, 'aisha.khan@company.com'),
  
  -- Operations Team
  ('Md. Reza Khan', 35, 'Operations Manager', '2020-05-10', '1990-11-15', 70000.00, 'reza.khan@company.com'),
  ('Nadia Islam', 27, 'Operations Executive', '2023-06-01', '1998-02-28', 45000.00, 'nadia.islam@company.com'),
  
  -- Finance Team
  ('Imran Ali', 31, 'Finance Manager', '2021-01-15', '1994-09-10', 75000.00, 'imran.ali@company.com'),
  ('Zainab Ahmed', 25, 'Junior Accountant', '2023-09-20', '2000-05-30', 42000.00, 'zainab.ahmed@company.com'),
  
  -- Support Team
  ('Hasan Mahmud', 28, 'Support Engineer', '2022-08-01', '1997-04-12', 52000.00, 'hasan.mahmud@company.com'),
  ('Ram Mondal', 24, 'Support Executive', '2024-01-15', '2001-08-22', 35000.00, 'ram.mondal@company.com')
ON CONFLICT (email) DO NOTHING;

-- ============================================================================
-- 4. INSERT ATTENDANCE RECORDS FOR FEBRUARY 2026
-- ============================================================================

-- Employee 1: Rahim Uddin (20 days present)
INSERT INTO attendance (employee_id, date, check_in_time)
VALUES
  (1, '2026-02-01', '09:15:00'),
  (1, '2026-02-02', '09:50:00'),
  (1, '2026-02-03', '08:45:00'),
  (1, '2026-02-04', '10:00:00'),
  (1, '2026-02-05', '09:30:00'),
  (1, '2026-02-06', '09:20:00'),
  (1, '2026-02-07', '08:55:00'),
  (1, '2026-02-08', '10:05:00'),
  (1, '2026-02-09', '09:15:00'),
  (1, '2026-02-10', '09:45:00'),
  (1, '2026-02-11', '08:30:00'),
  (1, '2026-02-12', '10:10:00'),
  (1, '2026-02-13', '09:25:00'),
  (1, '2026-02-14', '09:40:00'),
  (1, '2026-02-15', '08:50:00'),
  (1, '2026-02-16', '10:00:00'),
  (1, '2026-02-17', '09:15:00'),
  (1, '2026-02-18', '09:55:00'),
  (1, '2026-02-19', '08:45:00'),
  (1, '2026-02-20', '09:30:00')
ON CONFLICT (employee_id, date) DO NOTHING;

-- Employee 2: Fatima Ali (18 days present)
INSERT INTO attendance (employee_id, date, check_in_time)
VALUES
  (2, '2026-02-01', '09:00:00'),
  (2, '2026-02-02', '08:50:00'),
  (2, '2026-02-03', '09:05:00'),
  (2, '2026-02-04', '08:55:00'),
  (2, '2026-02-05', '09:10:00'),
  (2, '2026-02-06', '09:00:00'),
  (2, '2026-02-07', '09:15:00'),
  (2, '2026-02-08', '08:50:00'),
  (2, '2026-02-09', '09:05:00'),
  (2, '2026-02-10', '09:00:00'),
  (2, '2026-02-11', '08:55:00'),
  (2, '2026-02-12', '09:10:00'),
  (2, '2026-02-13', '09:00:00'),
  (2, '2026-02-14', '08:50:00'),
  (2, '2026-02-15', '09:05:00'),
  (2, '2026-02-16', '09:00:00'),
  (2, '2026-02-17', '08:55:00'),
  (2, '2026-02-18', '09:10:00')
ON CONFLICT (employee_id, date) DO NOTHING;

-- Employee 3: Ahmed Hassan (22 days present, mostly on time)
INSERT INTO attendance (employee_id, date, check_in_time)
VALUES
  (3, '2026-02-01', '09:20:00'),
  (3, '2026-02-02', '10:05:00'),
  (3, '2026-02-03', '09:40:00'),
  (3, '2026-02-04', '09:35:00'),
  (3, '2026-02-05', '10:00:00'),
  (3, '2026-02-06', '09:30:00'),
  (3, '2026-02-07', '10:10:00'),
  (3, '2026-02-08', '09:45:00'),
  (3, '2026-02-09', '10:00:00'),
  (3, '2026-02-10', '09:50:00'),
  (3, '2026-02-11', '10:05:00'),
  (3, '2026-02-12', '09:40:00'),
  (3, '2026-02-13', '10:00:00'),
  (3, '2026-02-14', '09:30:00'),
  (3, '2026-02-15', '10:10:00'),
  (3, '2026-02-16', '09:45:00'),
  (3, '2026-02-17', '10:00:00'),
  (3, '2026-02-18', '09:50:00'),
  (3, '2026-02-19', '10:05:00'),
  (3, '2026-02-20', '09:40:00'),
  (3, '2026-02-21', '10:00:00'),
  (3, '2026-02-22', '09:35:00')
ON CONFLICT (employee_id, date) DO NOTHING;

-- Employee 4: Karim Hasan (19 days present)
INSERT INTO attendance (employee_id, date, check_in_time)
VALUES
  (4, '2026-02-01', '08:55:00'),
  (4, '2026-02-02', '09:15:00'),
  (4, '2026-02-03', '08:50:00'),
  (4, '2026-02-04', '09:10:00'),
  (4, '2026-02-05', '08:55:00'),
  (4, '2026-02-06', '09:20:00'),
  (4, '2026-02-07', '09:00:00'),
  (4, '2026-02-08', '09:15:00'),
  (4, '2026-02-09', '08:50:00'),
  (4, '2026-02-10', '09:10:00'),
  (4, '2026-02-11', '08:55:00'),
  (4, '2026-02-12', '09:20:00'),
  (4, '2026-02-13', '09:00:00'),
  (4, '2026-02-14', '09:15:00'),
  (4, '2026-02-15', '08:50:00'),
  (4, '2026-02-16', '09:10:00'),
  (4, '2026-02-17', '08:55:00'),
  (4, '2026-02-18', '09:20:00'),
  (4, '2026-02-19', '09:00:00')
ON CONFLICT (employee_id, date) DO NOTHING;

-- Employee 5: Aisha Khan (20 days present)
INSERT INTO attendance (employee_id, date, check_in_time)
VALUES
  (5, '2026-02-01', '09:10:00'),
  (5, '2026-02-02', '09:55:00'),
  (5, '2026-02-03', '09:20:00'),
  (5, '2026-02-04', '10:00:00'),
  (5, '2026-02-05', '09:30:00'),
  (5, '2026-02-06', '09:15:00'),
  (5, '2026-02-07', '10:05:00'),
  (5, '2026-02-08', '09:25:00'),
  (5, '2026-02-09', '09:50:00'),
  (5, '2026-02-10', '09:30:00'),
  (5, '2026-02-11', '10:00:00'),
  (5, '2026-02-12', '09:20:00'),
  (5, '2026-02-13', '09:55:00'),
  (5, '2026-02-14', '09:40:00'),
  (5, '2026-02-15', '09:10:00'),
  (5, '2026-02-16', '10:00:00'),
  (5, '2026-02-17', '09:30:00'),
  (5, '2026-02-18', '09:50:00'),
  (5, '2026-02-19', '09:25:00'),
  (5, '2026-02-20', '10:00:00')
ON CONFLICT (employee_id, date) DO NOTHING;

-- Additional employees: Basic attendance (15 days each)
INSERT INTO attendance (employee_id, date, check_in_time)
VALUES
  (6, '2026-02-02', '09:00:00'),
  (6, '2026-02-03', '09:10:00'),
  (6, '2026-02-04', '09:05:00'),
  (6, '2026-02-05', '09:00:00'),
  (6, '2026-02-06', '09:15:00'),
  (6, '2026-02-07', '09:00:00'),
  (6, '2026-02-10', '09:10:00'),
  (6, '2026-02-11', '09:05:00'),
  (6, '2026-02-12', '09:00:00'),
  (6, '2026-02-13', '09:15:00'),
  (6, '2026-02-14', '09:00:00'),
  (6, '2026-02-17', '09:10:00'),
  (6, '2026-02-18', '09:05:00'),
  (6, '2026-02-19', '09:00:00'),
  (6, '2026-02-20', '09:15:00')
ON CONFLICT (employee_id, date) DO NOTHING;

-- Employee 7: Nadia Islam
INSERT INTO attendance (employee_id, date, check_in_time)
VALUES
  (7, '2026-02-01', '08:50:00'),
  (7, '2026-02-02', '09:00:00'),
  (7, '2026-02-03', '08:55:00'),
  (7, '2026-02-04', '09:05:00'),
  (7, '2026-02-05', '09:00:00'),
  (7, '2026-02-06', '08:50:00'),
  (7, '2026-02-07', '09:00:00'),
  (7, '2026-02-10', '08:55:00'),
  (7, '2026-02-11', '09:05:00'),
  (7, '2026-02-12', '09:00:00'),
  (7, '2026-02-13', '08:50:00'),
  (7, '2026-02-14', '09:00:00'),
  (7, '2026-02-17', '08:55:00'),
  (7, '2026-02-18', '09:05:00'),
  (7, '2026-02-19', '09:00:00')
ON CONFLICT (employee_id, date) DO NOTHING;

-- Employees 8-11: Minimal attendance (10 days each)
INSERT INTO attendance (employee_id, date, check_in_time)
VALUES
  (8, '2026-02-01', '09:30:00'),
  (8, '2026-02-02', '09:25:00'),
  (8, '2026-02-05', '09:35:00'),
  (8, '2026-02-06', '09:30:00'),
  (8, '2026-02-09', '09:25:00'),
  (8, '2026-02-10', '09:35:00'),
  (8, '2026-02-13', '09:30:00'),
  (8, '2026-02-16', '09:25:00'),
  (8, '2026-02-19', '09:35:00'),
  (8, '2026-02-20', '09:30:00'),
  
  (9, '2026-02-02', '09:15:00'),
  (9, '2026-02-03', '09:10:00'),
  (9, '2026-02-06', '09:20:00'),
  (9, '2026-02-07', '09:15:00'),
  (9, '2026-02-10', '09:10:00'),
  (9, '2026-02-13', '09:20:00'),
  (9, '2026-02-14', '09:15:00'),
  (9, '2026-02-17', '09:10:00'),
  (9, '2026-02-20', '09:20:00'),
  (9, '2026-02-21', '09:15:00'),
  
  (10, '2026-02-01', '09:05:00'),
  (10, '2026-02-04', '09:00:00'),
  (10, '2026-02-05', '09:10:00'),
  (10, '2026-02-08', '09:05:00'),
  (10, '2026-02-09', '09:00:00'),
  (10, '2026-02-12', '09:10:00'),
  (10, '2026-02-15', '09:05:00'),
  (10, '2026-02-16', '09:00:00'),
  (10, '2026-02-19', '09:10:00'),
  (10, '2026-02-22', '09:05:00'),
  
  (11, '2026-02-03', '09:40:00'),
  (11, '2026-02-04', '09:35:00'),
  (11, '2026-02-07', '09:45:00'),
  (11, '2026-02-08', '09:40:00'),
  (11, '2026-02-11', '09:35:00'),
  (11, '2026-02-14', '09:45:00'),
  (11, '2026-02-15', '09:40:00'),
  (11, '2026-02-18', '09:35:00'),
  (11, '2026-02-21', '09:45:00'),
  (11, '2026-02-22', '09:40:00')
ON CONFLICT (employee_id, date) DO NOTHING;

-- ============================================================================
-- 5. VERIFY DATA
-- ============================================================================

-- Show counts
SELECT 
  'hr_users' AS table_name, 
  COUNT(*) as count 
FROM hr_users
UNION ALL
SELECT 
  'employees', 
  COUNT(*) 
FROM employees
UNION ALL
SELECT 
  'attendance', 
  COUNT(*) 
FROM attendance;

-- ============================================================================
-- 6. SHOW SAMPLE QUERIES
-- ============================================================================

-- Show active employees
SELECT * FROM active_employees;

-- Show monthly attendance summary for Feb 2026
SELECT * FROM monthly_attendance_summary 
WHERE month = '2026-02-01'::date;

-- Show top 10 attendance records
SELECT * FROM attendance ORDER BY date DESC LIMIT 10;

-- ============================================================================
-- END OF SEED DATA SCRIPT
-- ============================================================================
